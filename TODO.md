TODO:
- Order of buckets ?
- Filter by Id and dimension by some metric value
- Children Aggregations
- Script Dimension

May be:
- Remove Container from Analytics. If we do, we can't create dynamic metrics. May be give EntityManager only?

Done:
- Metric filters
- in-app Metrics / Post processing
- Top level filters
- Make flattened, tabular view calculation lazy
- Replace stat aggregation with sum, avg aggregations
- Add Range Dimension
- Pass Container to Analytics classes
- Nested Aggregations
- Implement Filter Sources
- Api for metrics, dimensions and filters
- Size for Term Stats
- API Path
- Filter field names
- Add auto include metrics
- Datatable
- Return docs
- Custom Filter Classes (Parent/Child Filters)
- Add Type of metrics (percentage, value, etc)
- Reverse Nested Aggregations
- Pass context from client to the analytics class